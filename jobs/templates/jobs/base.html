<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TalentMatch{% endblock %}</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f4f8; color: #1a202c; }

        nav {
            background: linear-gradient(135deg, #1e3a5f, #2563eb);
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        nav .brand { color: white; font-size: 1.4rem; font-weight: 700; text-decoration: none; }
        nav .brand span { color: #60a5fa; }
        nav .nav-links { display: flex; gap: 1.2rem; align-items: center; }
        nav a { color: #bfdbfe; text-decoration: none; font-size: 0.9rem; transition: color 0.2s; }
        nav a:hover { color: white; }
        nav .btn-nav {
            background: #2563eb; color: white; padding: 0.4rem 1rem;
            border-radius: 6px; font-weight: 600; border: 1px solid #60a5fa;
        }
        nav .btn-nav:hover { background: #1d4ed8; }

        .container { max-width: 1100px; margin: 2rem auto; padding: 0 1rem; }

        .card {
            background: white; border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08); padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .badge {
            display: inline-block; padding: 0.2rem 0.6rem; border-radius: 999px;
            font-size: 0.75rem; font-weight: 600;
        }
        .badge-blue { background: #dbeafe; color: #1e40af; }
        .badge-green { background: #d1fae5; color: #065f46; }
        .badge-yellow { background: #fef3c7; color: #92400e; }
        .badge-red { background: #fee2e2; color: #991b1b; }
        .badge-purple { background: #ede9fe; color: #5b21b6; }

        .score-bar-wrap { background: #e2e8f0; border-radius: 999px; height: 10px; overflow: hidden; margin: 0.3rem 0; }
        .score-bar { height: 100%; border-radius: 999px; transition: width 0.4s ease; }
        .score-high { background: linear-gradient(90deg, #10b981, #34d399); }
        .score-mid { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .score-low { background: linear-gradient(90deg, #ef4444, #f87171); }

        .score-badge {
            display: inline-flex; align-items: center; gap: 0.3rem;
            font-weight: 700; font-size: 1rem;
        }

        btn, .btn {
            display: inline-block; padding: 0.5rem 1.2rem;
            border-radius: 8px; font-size: 0.9rem; font-weight: 600;
            cursor: pointer; text-decoration: none; border: none;
            transition: all 0.2s;
        }
        .btn-primary { background: #2563eb; color: white; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-success { background: #10b981; color: white; }
        .btn-success:hover { background: #059669; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-danger:hover { background: #dc2626; }
        .btn-sm { padding: 0.3rem 0.8rem; font-size: 0.8rem; }

        form label { display: block; margin-bottom: 0.25rem; font-weight: 600; font-size: 0.85rem; color: #4a5568; }
        form input, form textarea, form select {
            width: 100%; padding: 0.6rem 0.8rem; border: 1px solid #cbd5e0;
            border-radius: 8px; font-size: 0.9rem; transition: border 0.2s;
        }
        form input:focus, form textarea:focus, form select:focus {
            outline: none; border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
        }
        .form-group { margin-bottom: 1rem; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .helptext { font-size: 0.78rem; color: #718096; margin-top: 0.2rem; }
        .errorlist { color: #ef4444; font-size: 0.82rem; list-style: none; margin-top: 0.2rem; }

        .alert { padding: 0.8rem 1rem; border-radius: 8px; margin-bottom: 1rem; font-size: 0.9rem; }
        .alert-success { background: #d1fae5; color: #065f46; border-left: 4px solid #10b981; }
        .alert-error { background: #fee2e2; color: #991b1b; border-left: 4px solid #ef4444; }
        .alert-warning { background: #fef3c7; color: #92400e; border-left: 4px solid #f59e0b; }

        h1, h2, h3 { color: #1a202c; }
        h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
        h2 { font-size: 1.3rem; margin-bottom: 0.5rem; }

        .skill-tag {
            display: inline-block; padding: 0.2rem 0.6rem; margin: 0.1rem;
            background: #eff6ff; color: #1d4ed8; border-radius: 6px;
            font-size: 0.78rem; font-weight: 600;
        }
        .skill-tag.matched { background: #d1fae5; color: #065f46; }
        .skill-tag.missing { background: #fee2e2; color: #991b1b; }
    </style>
</head>
<body>

<nav>
    <a href="/" class="brand">Talent<span>Match</span></a>
    <div class="nav-links">
        <a href="/">Jobs</a>
        {% if user.is_authenticated %}
            {% if user.profile.role == 'recruiter' %}
                <a href="{% url 'recruiter_dashboard' %}">Dashboard</a>
                <a href="{% url 'post_job' %}">Post a Job</a>
            {% else %}
                <a href="{% url 'my_applications' %}">My Applications</a>
            {% endif %}
            <a href="{% url 'edit_profile' %}">Profile</a>

             <form method="POST" action="{% url 'logout' %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn-primary" style="border:none; background:none; color:#bfdbfe; cursor:pointer;">
                    Logout ({{ user.first_name }})
                </button>
            </form>
            
        {% else %}
            <a href="{% url 'login' %}">Login</a>
            <a href="{% url 'register' %}" class="btn-nav">Sign Up</a>
        {% endif %}
    </div>
</nav>

<div class="container">
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}

    {% block content %}{% endblock %}
</div>

</body>
</html>
